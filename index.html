<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SonicBloom</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js"></script>
</head>
<body>
    <!-- 初期メッセージオーバーレイ -->
    <div id="initial-message" class="initial-message-overlay">
        <div class="initial-message-content">
            <p class="message-line">CLICK!</p>
            <p class="message-line">ドラッグで方向制御。</p>
            <p class="message-line">停止中も爆発をセット可能。</p>
            <p class="message-line">数字ボタンで効果を変更。</p>
        </div>
    </div>

    <!-- ドロワーメニュートリガーボタン -->
    <button id="drawer-trigger" aria-expanded="false" aria-controls="info-drawer">
        <span class="hamburger-icon">☰</span>
        <span class="sr-only">メニューを開く</span>
    </button>

    <!-- ドロワーオーバーレイ -->
    <div id="drawer-overlay" class="drawer-overlay"></div>

    <!-- ドロワーパネル -->
    <div id="info-drawer" class="info-drawer">
        <div class="drawer-header">
            <h1>SonicBloom</h1>
            <button id="drawer-close" aria-label="メニューを閉じる">×</button>
        </div>
        <div class="drawer-content">
            <div class="controls">
                <!-- デスクトップ用説明 -->
                <div class="controls-desktop">
                    <h3>🕹️ 操作方法</h3>
                    <ul>
                        <li>クリック：爆発エフェクト</li>
                        <li>ドラッグ：パーティクル操作+軌跡表示</li>
                        <li>Space： 一時停止</li>
                        <li>1-5キー：エフェクト切替</li>
                        <li>Rキー：リセット</li>
                        <li>Mキー：ミュート</li>
                    </ul>
                </div>
                
                <!-- タブレット・モバイル用説明 -->
                <div class="controls-mobile">
                    <h3>☝️ 操作方法</h3>
                    <ul>
                        <li>タップ：爆発エフェクト</li>
                        <li>スワイプ：パーティクル操作+軌跡表示</li>
                        <li>その他の操作：画面下の絵文字をクリック</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="sound-controls">
        <button id="pause-button" aria-label="一時停止/再開">⏸️</button>
        <button id="mute-button">🔈</button>
        <span class="effect-buttons">
            <button class="effect-btn" data-effect="1">1️⃣</button>
            <button class="effect-btn" data-effect="2">2️⃣</button>
            <button class="effect-btn" data-effect="3">3️⃣</button>
            <button class="effect-btn" data-effect="4">4️⃣</button>
            <button class="effect-btn" data-effect="5">5️⃣</button>
        </span>
    </div>
    <script src="config.js"></script>
    <script src="errorHandler.js"></script>
    <script src="utils.js"></script>
    <script src="soundSystem.js"></script>
    <script src="explosionStrategy.js"></script>
    <script src="particleFactory.js"></script>
    <script src="dragTrail.js"></script>
    <script src="particle.js"></script>
    <script src="particleSystem.js"></script>
    <script src="sketch.js"></script>
</body>
</html>